---
title: "Cooling Center Optimization Utilizing Python SPOPT Library"
output: html_notebook
---

This R-notebook will go through the process of replicating the cooling center optimization in ArcPro using R. Being able to replicate the process in an open source software will enable greater access to the approach be eliminating licensing costs. Additionally, this code will serve as the base for the R-Shiny app which will allow me to present the optimization in an web based interface that decision makers can use directly. 

There seem to be a handful of open source coding libraries I can use to replicate the location modeling I conducted in ArcPro. For now I'm going to attempt two different approaches using a subset of the data I've used in ArcPro. The first approach uses the Maxcovr package in R. The second approach is to use functions in the Pysal libraries in Python. The second approach could be a bit more robust especially with location modeling using a network. However, both tools have been used in the context of a road network. Both approaches use solvers to identify the optimized set of locations to meet demand. For now I'm testing both approaches but in the design of the dashboard I will lean on one approach. 


```{r Setup Python Virtual Environment}
library(tidyverse)
library(reticulate)

## Reticulate to start up your virtual python environment
vrt.env <- "rpython-virtualenv-coolingcenteropt"
use_virtualenv("rpython-virtualenv-coolingcenteropt")
## Install python libraries into virtual environment
python.packages <- c("scipy","spopt","geopandas","pulp","shapely","spaghetti")
virtualenv_install(vrt.env, python.packages)

```


#### Maxcovr Approach 
```{r}

```


#### SPOPT Python Code
```{r}

```

